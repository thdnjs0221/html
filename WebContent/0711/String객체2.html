<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/style.css">
<script>
proc1=()=>{
	
	vcode= prompt("주민번호 입력하세요");
	
	//추출substring  
	yy=vcode.substr(0,2);
	mm=vcode.substr(2,2);
	dd=vcode.substr(4,2);
	gg=vcode.substr(7,1);
		
	//성별 구하기 gg를비교 1,3 gender = "남자" 2,4
	if(gg==1 || gg==3){
		gender="남자"
	}else if(gg==2 || gg==4){
		gender="여자"
	}	
	
	//년도 구하기 gg를비교 1,2, year =1900 3,4 =2000
	if(gg==1 ||gg==2){
		year=1900+parseInt(yy);
	}else if( gg==3 || gg==4){
		year=2000+parseInt(yy);
	}	
	
	//나이
	//현재 년도 - 
	today = new Date();
	toyear= today.getFullYear();
	age= toyear-year;
	
		
	//출력
	/*주민번호 : 1213-1*****
	생년월일: 2022년 3월 22일
	나이	*/
	pstr=`주민번호: ${vcode.substr(0,8)}******<br>`;
	pstr+=`생년월일: ${year}년 ${mm}월 ${dd}일<br>`;
	pstr+=`나이: ${age}<br>`;
	pstr+=`성별: ${gender}<br>`;
	
	document.getElementById('result1').innerHTML=pstr;
}

proc2=()=>{
	//곱하는 수 
	su="234567892345"
	
	
	//입력
	vcode=prompt("주민번호 입력","-포함");
	
	
	rvcode= vcode.replace("-","");
	
	
	
	hap=0;
	for(i=0; i<su.length; i++){
		hap+= su.substr(i,1) * rvcode.substr(i,1);
		
	}
	//hapna=  hap % 11 
	//res= 11-hapna;
	
	res= 11- hap % 11 //0~11
	
	if(res==10) res= 0;
	if(res==11) res= -1; //res=0~9
	
	if(rvcode[rvcode.length -1] == res){
		vres="진짜";
	}else{
		vres="가짜";
	}
	//출력
	str=`주민번호 :${vcode.substr(0,8)}******<br>`;
	str+=`${vres}번호입니다.`;
	
		document.getElementById('result2').innerHTML=str;
	
	
}






</script>


</head>
<body>

<h3>prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를 출력하는 프로그램을 작성하시오.
 </h3>
<input type="button" value="확인" onclick="proc1()">
<br>
<div class="ddres" id="result1"> </div>
<br>
<hr color="red">

<h3>주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)
 </h3>
<input type="button" value="확인" onclick="proc2()">
<br>
<div class="ddres" id="result2"> </div>
<br>
<hr color="red">
</body>
</html>